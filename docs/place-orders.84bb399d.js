parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"uOLO":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomerSet=void 0;var e=function e(o,s){t(this,e),this.id=o,this.name=s};exports.CustomerSet=e;
},{}],"pi7f":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ItemsAdded=void 0;var t=function t(i,s,n){e(this,t),this.itemIdentifier=i,this.requestedQty=s,this.unitPrice=n};exports.ItemsAdded=t;
},{}],"CCiT":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ItemSet=void 0;var e=function e(i,o,s){t(this,e),this.code=i,this.qty=o,this.unitPrice=s};exports.ItemSet=e;
},{}],"nYBt":[function(require,module,exports) {
"use strict";var t=require("./dto/CustomerSet"),e=require("./dto/ItemsAdded"),n=require("./dto/ItemSet");function r(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=i(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o,s,c,d="http://localhost:8080/pos",l="".concat(d,"/orders"),u="".concat(d,"/customers"),f="".concat(d,"/items"),m=6,p=[],g=[],v=[],h=[],y=[],b=[],x=0,S=0,w=0,C="",T=1,q=1,O=0,E=0;function k(){s=$("#cus-ids option:selected").text();var t,e=r(h);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.id===s&&$("#cus-name").val(n.name)}}catch(i){e.e(i)}finally{e.f()}}function A(){c=$("#item-ids option:selected").text();var t,e=r(y);try{for(e.s();!(t=e.n()).done;){var n=t.value,i=c.split("-");n.code===i[0].trim()&&$("#item-price").val(n.unitPrice)}}catch(a){e.e(a)}finally{e.f()}}function D(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===t.DONE){if(200!==t.status)return void alert("Failed to fetch order List, try again...!");x=+t.getResponseHeader("X-Total-Count"),p=JSON.parse(t.responseText),$("#tbl-orders tbody tr").remove(),p.forEach(function(t){var e="<tr>\n                 <td>".concat(t.orderId,"</td>\n                 <td>").concat(t.customerId,"</td>\n                 <td>").concat(t.customerName,"</td>\n                 <td>").concat(t.orderDate,"</td>\n                 <td>").concat(t.orderTotal,"</td>\n                 </tr>");$("#tbl-orders tbody").append(e)}),L()}},t.open("GET",l+"?page=".concat(T,"&size=").concat(m),!0),t.send()}function H(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===e.DONE){if(200!==e.status)return void alert("Failed to fetch customers, try again...!");S=+(e.getResponseHeader("X-Total-Count")+""),g=JSON.parse(e.responseText);var n="";h=[];for(var r=0;r<g.length;r++)n+="<option>".concat(g[r].id,"</option>"),h.push(new t.CustomerSet(g[r].id,g[r].name));$("#cus-ids").html(n)}},e.open("GET",u,!0),e.send()}function I(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===t.DONE){if(200!==t.status)return void alert("Failed to fetch items, try again...!");w=+(t.getResponseHeader("X-Total-Count")+""),v=JSON.parse(t.responseText);for(var e="",r=0;r<v.length;r++)e+="<option>".concat(v[r].code," - ").concat(v[r].description,"</option>"),y.push(new n.ItemSet(v[r].code,v[r].qtyOnHand,v[r].unitPrice));$("#item-ids").html(e)}},t.open("GET",f,!0),t.send()}function N(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===e.DONE){if(201!==e.status)return console.error(e.responseText),void alert("Failed to save the customer, retry");alert("Customer has been saved successfully"),S++,P(q=Math.ceil(S/m)),$("#txt-id, #txt-name, #txt-address").val(""),$("#txt-id").trigger("focus")}},e.open("POST",u,!0),e.setRequestHeader("Content-Type","application/json")}function R(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===e.DONE){if(204!==e.status)return void alert("Failed to delete customer, try again...!");S--,P(q=Math.ceil(S/m))}},e.open("DELETE",u+"?id=".concat(t),!0),e.send()}function M(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState===e.DONE&&(204===e.status?(alert("Customer has been updated successfully"),$("#tbl-customers tbody tr.selected").find("td:nth-child(2)").text($("#txt-name").val()+""),$("#tbl-customers tbody tr.selected").find("td:nth-child(3)").text($("#txt-address").val()+""),$("#txt-id, #txt-name, #txt-address").val(""),$("#txt-id").trigger("focus"),$("#tbl-customers tbody tr.selected").removeClass("selected"),$("#txt-id").removeAttr("disabled")):alert("Failed to update the customer, retry"))},e.open("PUT",u,!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(t))}function L(){if(q=Math.ceil(x/m),X(),1!==q){for(var t='<li class="page-item"><a class="page-link" href="#!">Previous</a></li>',e=0;e<q;e++)t+='<li class="page-item '.concat(T===e+1?"active":"",'"><a class="page-link" href="javascript:void(0);">').concat(e+1,"</a></li>");t+='<li class="page-item"><a class="page-link" href="javascript:void(0);">Next</a></li>',$("ul.pagination").html(t),1===T?$(".page-item:first-child").addClass("disabled"):T===q&&$(".page-item:last-child").addClass("disabled"),$(".page-item:first-child").on("click",function(){return P(T-1)}),$(".page-item:last-child").on("click",function(){return P(T+1)}),$(".page-item:not(.page-item:first-child, .page-item:last-child)").on("click",function(){P(+$(this).text())})}}function P(t){t<1||t>q||(T=t,D())}function X(){q>1?$(".pagination").show():$(".pagination").hide()}D(),H(),I(),k(),$("#item-qty").on("keypress",function(){}),$("#btn-add-item").on("click",function(t){t.preventDefault();var r,i,a;if(r=$("#item-ids option:selected").text(),i=$("#item-qty").val(),a=$("#item-price").val(),null===r)return alert("Please select an Item first!"),$("#item-ids").trigger("focus").trigger("select"),void!1;if(0==i)return alert("Please enter a quantity!"),$("#item-qty").trigger("focus").trigger("select"),void!1;if(0==a)return alert("Something wrong with loading item data. Try again...!"),$("#item-price").trigger("focus").trigger("select"),void!1;var o=new e.ItemsAdded(r,i,a);b.push(o);for(var s="",c=0;c<b.length;c++)s+="<option>".concat(b[c].itemIdentifier,"</option>"),y.push(new n.ItemSet(v[c].code,v[c].qtyOnHand,v[c].unitPrice));$("#added-items").html(s),$("#item-qty").val(0),$("#item-ids").trigger("focus").trigger("select"),E=o.unitPrice*o.requestedQty,console.log(E),O+=E,$("#txt-total").text("Total: "+O),$("#btn-remove-item").trigger("click")}),$("#added-items>option").on("select",function(){console.log("working")}),$("#btn-save").on("click",function(t){t.preventDefault();var e=($("#txt-total")+"").split(":"),n=$("#order-id"),r=$("#cus-ids"),i=$("#cus-name"),a=+e;console.log(b),b.forEach(function(t){});var o=n.val().trim(),s=(r.val().trim(),i.val().trim());if($("#order-id, #cus-ids, #cus-name").removeClass("is-invalid"),a<=0&&($("#txt-total").addClass("is-invalid"),alert("Order Total is invalid"),!1),[].length<=0&&!1,/^[A-Za-z ]+$/.test(s)||(i.addClass("is-invalid"),i.trigger("select"),!1),/^OD\d{3}$/.test(o)||(n.addClass("is-invalid"),n.trigger("select"),!1),n.attr("disabled"))$("#tbl-customers tbody tr.selected");else console.log((new Date).toLocaleDateString())}),$("#tbl-customers tbody").on("click","#trash-td",function(t){confirm("Are you sure to delete?")&&R($(t.target).parents("tr").find("td:first-child").text())}),$("#btn-clear").on("click",function(){$("#tbl-customers tbody tr.selected").removeClass("selected"),$("#txt-id").removeAttr("disabled").trigger("focus"),$("#txt-id").removeAttr("disabled")}),$("#tbl-customers tbody").on("click","tr",function(){var t=$(this).find("td:first-child").text(),e=$(this).find("td:nth-child(2)").text(),n=$(this).find("td:nth-child(3)").text();$("#txt-id").val(t).attr("disabled","true"),$("#txt-name").val(e),$("#txt-address").val(n),$("#tbl-customers tbody tr").removeClass("selected"),$(this).addClass("selected")}),$("#cus-ids").on("change",function(){k()}),$("#item-ids").on("change",function(){A()});
},{"./dto/CustomerSet":"uOLO","./dto/ItemsAdded":"pi7f","./dto/ItemSet":"CCiT"}]},{},["nYBt"], null)
//# sourceMappingURL=/pos-admin-lte/place-orders.84bb399d.js.map